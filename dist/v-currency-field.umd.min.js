/*!
 * v-currency-field v3.0.11 
 * (c) 2020 Philipe Augusto <phiny1@gmail.com>
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue-currency-input/src/utils/parse")):"function"==typeof define&&define.amd?define(["exports","vue-currency-input/src/utils/parse"],t):(e=e||self,t(e.VCurrencyField={},e.parse))}(this,function(e,t){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function a(e,t){if(null==e)return{};var i,n,r=u(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function l(e,t,i){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)}function c(e,t,i,n,r,o,u,a,l,c){"boolean"!=typeof u&&(l=a,a=u,u=!1);var s="function"==typeof i?i.options:i;e&&e.render&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,r&&(s.functional=!0)),n&&(s._scopeId=n);var m;if(o?(m=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},s._ssrRegister=m):t&&(m=u?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),m)if(s.functional){var f=s.render;s.render=function(e,t){return m.call(t),f(e,t)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,m):[m]}return i}function s(e,t){t&&Object.keys(t).map(function(e){z[e]=t[e]}),e.component("v-currency-field",Q)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var m=function(e,t,i){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!0,!0,i),e.dispatchEvent(n)},f=function(e,t){return e.substring(0,t.length)===t},d=function(e,t){return t&&f(e,t)?e.substr(t.length):e},p=function(e,t){var i=t.prefix,n=t.suffix,r=e.replace(i,"").replace(n,"");return{value:d(r,"-"),negative:f(r,"-")}},g=function(e,t,i){return t&&null!=e?Number(e.toFixed(i).split(".").join("")):e},y=function(e,t,i){return t&&null!=e?Number(e.toFixed(i).split(".").join("")):e},v=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},h=function(e){return e.replace(/^0+(0$|[^0])/,"$1")},b=function(e,t){return(e.match(new RegExp(v(t),"g"))||[]).length},F=function(e,t){return e.substring(0,t.length)===t},x=function(e,t){return e.substring(0,e.indexOf(t))},S=[",",".","\u066b"],D=function(e){var t=e.currency,n=e.locale,r=e.precision,o=e.autoDecimalMode,u=e.valueAsInteger,a=new Intl.NumberFormat(n,"string"==typeof t?{currency:t,style:"currency"}:{minimumFractionDigits:1}),l=a.format(123456);this.locale=n,this.currency=t,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(e){return e.toLocaleString(n)}),this.decimalSymbol=b(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=x(Number(-1).toLocaleString(n),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof r?this.minimumFractionDigits=this.maximumFractionDigits=r:"object"!==i(r)||o||u?"string"==typeof t?(this.minimumFractionDigits=a.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=a.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=r.min||0,this.maximumFractionDigits=void 0!==r.max?r.max:20),"string"==typeof t?(this.prefix=x(l,this.digits[1]),this.negativePrefix=x(a.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(t||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(t||{}).suffix||"")};D.prototype.parse=function(e){var t=this.isNegative(e);e=this.normalizeDigits(e),e=this.stripCurrencySymbol(e),e=this.stripMinusSymbol(e);var i=this.decimalSymbol?"("+v(this.decimalSymbol)+"\\d*)?":"",n=e.match(new RegExp("^"+this.integerPattern()+i+"$"));return n?Number((t?"-":"")+this.onlyDigits(n[1])+"."+this.onlyDigits(n[3]||"")):null},D.prototype.format=function(e,t){return void 0===t&&(t={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?e.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},t)):this.insertCurrencySymbol(Math.abs(e).toLocaleString(this.locale,t),e<0||0===e&&1/e<0)},D.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+v(this.groupingSymbol)+"?\\d{3})*)"},D.prototype.toFraction=function(e){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(e.substr(1)).substr(0,this.maximumFractionDigits)},D.prototype.isFractionIncomplete=function(e){return!!this.normalizeDigits(e).match(new RegExp("^"+this.integerPattern()+v(this.decimalSymbol)+"$"))},D.prototype.isNegative=function(e){return F(e,this.negativePrefix)||F(e.replace("-",this.minusSymbol),this.minusSymbol)},D.prototype.insertCurrencySymbol=function(e,t){return""+(t?this.negativePrefix:this.prefix)+e+this.suffix},D.prototype.stripMinusSymbol=function(e){return e.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},D.prototype.stripCurrencySymbol=function(e){return e.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},D.prototype.normalizeDecimalSymbol=function(e,t){var i=this;return S.forEach(function(n){e=e.substr(0,t)+e.substr(t).replace(n,i.decimalSymbol)}),e},D.prototype.normalizeDigits=function(e){return"0"!==this.digits[0]&&this.digits.forEach(function(t,i){e=e.replace(new RegExp(t,"g"),i)}),e},D.prototype.onlyDigits=function(e){return this.normalizeDigits(e).replace(/\D+/g,"")},D.prototype.onlyLocaleDigits=function(e){return e.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var $={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},O=function(e,t){var i=Object.assign({},$,t),n=new D(i);return y(n.parse(e),i.valueAsInteger,n.maximumFractionDigits)},w=function(e,t){return l(e,"format",{value:t})},V=function(e,t){return e.setSelectionRange(t,t)},j=function(e,t,i,n,r){var o=n.prefix,u=n.suffix,a=n.decimalSymbol,l=n.maximumFractionDigits,c=n.groupingSymbol,s=t.indexOf(a)+1,m=t.length-i;return Math.abs(e.length-t.length)>1&&i<=s?e.indexOf(a)+1:e.substr(i,1)===c&&b(e,c)===b(t,c)+1?e.length-m-1:(!r.autoDecimalMode&&0!==s&&i>s&&n.onlyDigits(t.substr(s)).length-1===l&&(m-=1),r.distractionFree.hideCurrencySymbol?e.length-m:Math.max(e.length-Math.max(m,u.length),0===o.length?0:o.length+1))},M=function(e,t,i,n){var r=n;return t.distractionFree.hideCurrencySymbol&&(r-=e.prefix.length),t.distractionFree.hideGroupingSymbol&&(r-=b(i.substring(0,n),e.groupingSymbol)),Math.max(0,r)},N=function e(t,n){if(t===n)return!0;if(!t||!n||"object"!==i(t)||"object"!==i(n))return!1;var r=Object.keys(t);return r.length===Object.keys(n).length&&(!!r.every(Object.prototype.hasOwnProperty.bind(n))&&r.every(function(i){return e(t[i],n[i])}))},E=function(e){this.numberFormat=e};E.prototype.conformToMask=function(e,t){var i=this;void 0===t&&(t="");var n=this.numberFormat.isNegative(e),r=e;r=this.numberFormat.stripCurrencySymbol(r),r=this.numberFormat.stripMinusSymbol(r);var o=function(e){if(""===e&&n&&t!==i.numberFormat.negativePrefix)return"";if(i.numberFormat.maximumFractionDigits>0){if(i.numberFormat.isFractionIncomplete(e))return e;if(F(e,i.numberFormat.decimalSymbol))return i.numberFormat.toFraction(e)}return null}(r);if(null!=o)return this.numberFormat.insertCurrencySymbol(o,n);var u=r.split(this.numberFormat.decimalSymbol),a=u[0],l=u.slice(1),c=h(this.numberFormat.onlyDigits(a)),s=this.numberFormat.onlyDigits(l.join("")).substr(0,this.numberFormat.maximumFractionDigits),m=l.length>0&&0===s.length,f=""===c&&n&&(t===e.slice(0,-1)||t!==this.numberFormat.negativePrefix);return m||f?t:c.match(/\d+/)?{numberValue:Number((n?"-":"")+c+"."+s),fractionDigits:s}:""};var C=function(e){this.numberFormat=e};C.prototype.conformToMask=function(e){if(""===e)return"";var t=this.numberFormat.isNegative(e),i=""===this.numberFormat.stripMinusSymbol(e)?-0:Number((t?"-":"")+h(this.numberFormat.onlyDigits(e)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:i,fractionDigits:i.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var I=Math.pow(2,53)-1,_=function(e,t,i){var n=i.$CI_DEFAULT_OPTIONS,r="input"===e.tagName.toLowerCase()?e:e.querySelector("input");if(!r)throw new Error("No input element found");var o=Object.assign({},n||$,t),u=o.distractionFree,a=o.autoDecimalMode,l=o.valueRange;"boolean"==typeof u&&(o.distractionFree={hideCurrencySymbol:u,hideNegligibleDecimalDigits:u,hideGroupingSymbol:u}),o.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-I):-I,max:void 0!==l.max?Math.min(l.max,I):I}:{min:-I,max:I},a?(o.distractionFree.hideNegligibleDecimalDigits=!1,r.setAttribute("inputmode","numeric")):r.setAttribute("inputmode","decimal");var c=new D(o);return r.$ci=Object.assign({},r.$ci||{numberValue:null},{options:o,numberMask:o.autoDecimalMode?new C(c):new E(c),currencyFormat:c}),r},P=function(e,t){return Math.min(Math.max(e,t.min),t.max)},L=function(e,t){var i=e.$ci,n=i.numberValue,r=i.currencyFormat,o=i.options;n=y(n,o.valueAsInteger,r.maximumFractionDigits),l(e,t,{numberValue:n})},R=function(e,t,i){void 0===i&&(i=!1);var n=e.$ci,r=n.currencyFormat,o=n.options;k(e,null!=t?r.format(P(t,o.valueRange)):null),(t!==e.$ci.numberValue||i)&&L(e,"change")},A=function(e,t,n){if(null!=t){var r=e.$ci,o=r.focus,u=r.decimalSymbolInsertedAt,a=r.options,l=r.numberMask,c=r.currencyFormat,s=r.previousConformedValue,m=a.allowNegative,f=a.distractionFree;void 0!==u&&(t=c.normalizeDecimalSymbol(t,u),e.$ci.decimalSymbolInsertedAt=void 0);var d,p=l.conformToMask(t,s);if("object"===i(p)){var g=p.numberValue,y=p.fractionDigits,v=c.maximumFractionDigits,h=c.minimumFractionDigits;o&&(h=v),h=n?y.replace(/0+$/,"").length:Math.min(h,y.length),d=g>I?s:c.format(g,{useGrouping:!(o&&f.hideGroupingSymbol),minimumFractionDigits:h,maximumFractionDigits:v})}else d=p;m||(d=d.replace(c.negativePrefix,c.prefix)),o&&f.hideCurrencySymbol&&(d=d.replace(c.negativePrefix,c.minusSymbol).replace(c.prefix,"").replace(c.suffix,"")),e.value=d,e.$ci.numberValue=c.parse(e.value)}else e.value=e.$ci.numberValue=null;e.$ci.previousConformedValue=e.value},k=function(e,t,i){void 0===i&&(i=!1),A(e,t,i),L(e,"input")},q=function(e){e.addEventListener("input",function(t){if(!t.detail){var i=e.value,n=e.selectionStart,r=e.$ci,o=r.currencyFormat,u=r.options;k(e,i),e.$ci.focus&&V(e,j(e.value,i,n,o,u))}},{capture:!0}),e.addEventListener("keypress",function(t){S.includes(t.key)&&(e.$ci.decimalSymbolInsertedAt=e.selectionStart)}),e.addEventListener("format",function(t){var i=e.$ci,n=i.currencyFormat,r=i.options,o=i.numberValue,u=function(e){return r.valueAsInteger&&null!=e?e/Math.pow(10,n.maximumFractionDigits):e}(t.detail.value);o!==u&&R(e,u)}),e.addEventListener("focus",function(){e.$ci.focus=!0;var t=e.$ci.options.distractionFree,i=t.hideCurrencySymbol,n=t.hideGroupingSymbol,r=t.hideNegligibleDecimalDigits;(i||n||r)&&setTimeout(function(){var t=e.value,i=e.selectionStart,n=e.selectionEnd;t&&k(e,t,r),Math.abs(i-n)>0?e.setSelectionRange(0,e.value.length):V(e,M(e.$ci.currencyFormat,e.$ci.options,t,i))})}),e.addEventListener("blur",function(){e.$ci.focus=!1,e.$ci.numberValue&&R(e,e.$ci.numberValue)}),e.addEventListener("change",function(t){t.detail||L(e,"change")})},T={bind:function(e,t,i){var n=t.value,r=i.context,o=_(e,n,r);q(o),w(o,o.$ci.currencyFormat.parse(o.value))},componentUpdated:function(e,t,i){var n=t.value,r=t.oldValue,o=i.context;if(!N(n,r)){var u=_(e,n,o);R(u,u.$ci.numberValue,!0)}}},B={render:function(e){var t=this;return e("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(e){e.detail&&t.$emit("change",e.detail.numberValue)},input:function(e){e.detail&&t.value!==e.detail.numberValue&&t.$emit("input",e.detail.numberValue)}})})},directives:{currency:T},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var e=this,t=Object.assign({},this.$CI_DEFAULT_OPTIONS||$);return Object.keys($).forEach(function(i){void 0!==e[i]&&(t[i]=e[i])}),t}},watch:{value:"setValue"},methods:{setValue:function(e){w(this.$el,e)}}},U={install:function(e,t){void 0===t&&(t={});var i=t.componentName;void 0===i&&(i=B.name);var n=t.directiveName;void 0===n&&(n="currency");var r=t.globalOptions;void 0===r&&(r={}),e.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},$,r),e.component(i,B),e.directive(n,T),e.prototype.$parseCurrency=function(e,t){return void 0===t&&(t={}),O(e,Object.assign({},r,t))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(U);var z={locale:void 0,currency:void 0,decimalLength:2,autoDecimalMode:!0,min:null,max:null,defaultValue:0,valueAsInteger:!1,allowNegative:!0},G={name:"VCurrencyField",props:{value:{type:[Number,String],default:function(){return null}},locale:{type:String,default:function(){return z.locale}},currency:{type:[String,Object],default:function(){return z.currency}},decimalLength:{type:[Number,Object],default:function(){return z.decimalLength}},autoDecimalMode:{type:Boolean,default:function(){return z.autoDecimalMode}},min:{type:Number,default:function(){return z.min}},max:{type:Number,default:function(){return z.max}},defaultValue:{type:Number,default:function(){return z.defaultValue}},valueAsInteger:{type:Boolean,default:function(){return z.valueAsInteger}},allowNegative:{type:Boolean,default:function(){return z.allowNegative}}},directives:{CurrencyDirective:T},data:function(){return{formattedValue:this.value}},mounted:function(){this.$refs.textfield.resetValidation(),m(this.$el.querySelector("input"),"defaultValue"),this.valueAsInteger||m(this.$el.querySelector("input"),"format",{value:this.value})},computed:{attrs:function(){var e=this.$attrs;e.value;return a(e,["value"])},distractionFree:function(){return this.decimalLength>0&&!this.autoDecimalMode},decimalMode:function(){return this.decimalLength>0&&this.autoDecimalMode},valueRange:function(){return this.min||this.max?{min:this.min,max:this.max}:void 0}},watch:{value:function(e){m(this.$el.querySelector("input"),"format",{value:e})}},methods:{listeners:function(){var e=this,i=this.$listeners;i.input;return o(o({},a(i,["input"])),{},{defaultValue:function(){var t=e.$el.querySelector("input");e.value||null===e.defaultValue||void 0===e.defaultValue||t.$ci.focus||(t.$ci.numberValue=e.valueAsInteger&&e.defaultValue?e.defaultValue*Math.pow(10,e.decimalLength):e.defaultValue,m(t,"blur"))},input:function(){var t=e.$el.querySelector("input");null!=t.$ci.numberValue&&void 0!=t.$ci.numberValue||null===e.defaultValue||t.$ci.focus||(t.$ci.numberValue=e.defaultValue,m(t,"blur")),e.$emit("input",g(t.$ci.numberValue,e.valueAsInteger,e.decimalLength)),e.formattedValue=t.value},keyup:function(i){if("-"===i.key||"+"===i.key){var n=p(e.$el.querySelector("input").value,{prefix:"",suffix:""}),r=n.value,o=n.negative,u=r.split(e.$el.querySelector("input").$ci.currencyFormat.decimalSymbol),a=t(r,e.$el.querySelector("input").$ci.currencyFormat),l=null;if(2===u.length){var c=u[1];l=new Intl.NumberFormat(e.locale,{minimumFractionDigits:c.length,maximumFractionDigits:c.length}).format(a)}var s=l||a;"-"!==i.key||o||null===s||(e.$el.querySelector("input").value="-".concat(s),m(e.$el.querySelector("input"),"input")),"+"===i.key&&o&&null!==s&&(e.$el.querySelector("input").value="".concat(s),m(e.$el.querySelector("input"),"input"))}}})}}},X=c;const H=G;var J=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",e._g(e._b({directives:[{name:"currency-directive",rawName:"v-currency-directive",value:{currency:e.currency,locale:e.locale,distractionFree:e.distractionFree,precision:e.decimalLength,autoDecimalMode:e.decimalMode,valueRange:e.valueRange,allowNegative:e.allowNegative,valueAsInteger:e.valueAsInteger},expression:"{currency, locale, distractionFree, precision: decimalLength, autoDecimalMode: decimalMode, valueRange, allowNegative, valueAsInteger}"}],ref:"textfield",attrs:{type:"tel"},scopedSlots:e._u([e._l(e.$slots,function(t,i){return{key:i,fn:function(){return[e._t(i)]},proxy:!0}})],null,!0),model:{value:e.formattedValue,callback:function(t){e.formattedValue=t},expression:"formattedValue"}},"v-text-field",e.attrs,!1),e.listeners()))},K=[];var Q=X({render:J,staticRenderFns:K},void 0,H,void 0,!1,void 0,void 0,void 0);"undefined"!=typeof window&&window.Vue&&window.Vue.use(s),e.VCurrencyField=Q,e.default=s,e.options=z,e.version="3.0.11",Object.defineProperty(e,"__esModule",{value:!0})});